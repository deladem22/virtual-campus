import{j as s}from"./jsx-runtime-CAOzMBF_.js";import{d as o}from"./dayjs.min-DReL-Uwu.js";import{A as a}from"./anchor-BX46IkJD.js";import{B as t}from"./button-D3-ocrTF.js";import{P as m}from"./post-time-BzanNHiO.js";import{U as d}from"./username-DR9y_VJH.js";import{t as n}from"./time-2AcYv75b.js";import{a as x,u as h}from"./components-BUh_SX-e.js";import{a as u}from"./index-BqmKY8Xa.js";import"./clsx-B-dksMZM.js";const L=({data:e})=>{var i;return[{title:`${e==null?void 0:e.event.title} | ${e==null?void 0:e.school.shortName} ✽ gctu`},{name:"description",content:(e==null?void 0:e.event.shortDescription)||(e==null?void 0:e.event.description.substring(0,30))},{name:"og:image",content:(i=e==null?void 0:e.event.poster)==null?void 0:i.url}]};function b(){const{event:e}=x(),{user:i}=h("root")||{},r=u();function l(){navigator.share&&navigator.share({title:e.title,text:e.shortDescription||void 0,url:window.location.href})}function c(){confirm("Are you sure you want to delete this event This cannot be undone.")&&r(null,{action:`/events/${e.id}`,method:"DELETE"})}return s.jsx("div",{className:"container mx-auto min-h-[60vh]",children:s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:s.jsxs("article",{className:"col-span-1 lg:col-span-2",children:[s.jsxs("div",{className:"text-xs font-mono mt-2 text-secondary",children:["Posted ",s.jsx(m,{time:e.createdAt})," by"," ",s.jsx(d,{user:e.user})]}),s.jsx("h1",{className:"font-bold text-2xl",children:e.title}),s.jsx("h2",{className:"text-secondary",children:e.shortDescription}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 mt-4",children:[s.jsxs("div",{className:"col-span-1",children:[s.jsxs("div",{className:"flex gap-2 font-medium text-secondary items-center",children:[s.jsx("div",{className:"i-lucide-calendar"}),o(e.date).format("dddd, DD MMM[.]")]}),s.jsxs("div",{className:"flex gap-2 font-medium text-secondary items-center",children:[s.jsx("div",{className:"i-lucide-clock"}),n(e.startTime)," — ",e.endTime?n(e.endTime):"till you drop"]}),s.jsxs("div",{className:"flex gap-2 font-medium text-secondary items-center",children:[s.jsx("div",{className:"i-lucide-map"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{children:e.venue}),e.mapsLink&&s.jsx("a",{target:"_blank",href:e.mapsLink,className:"underline text-zinc-800 dark:text-white",rel:"noreferrer",children:"View on map"})]})]})]}),s.jsxs("div",{className:"max-lg:mt-4 lg:text-end flex gap-2 items-start",children:[s.jsxs(a,{to:`/downloads/events/${e.id}`,className:"shrink-0",variant:"neutral",children:[s.jsx("div",{className:"i-lucide-calendar-plus opacity-50"}),"Add to calendar"]}),s.jsxs(t,{className:"shrink-0",variant:"primary",onClick:l,children:[s.jsx("div",{className:"i-lucide-share opacity-50"}),"Share event"]})]})]}),s.jsx("p",{className:"mt-4 whitespace-pre-wrap",children:e.description}),e.eventLink&&s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"mt-2 text-secondary font-medium",children:"Event link"}),s.jsx("p",{children:s.jsx("a",{className:"underline",href:e.eventLink,children:e.eventLink})})]}),e.poster&&s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"text-secondary font-medium mt-4",children:"Poster"}),s.jsx("div",{className:"grid lg:grid-cols-2",children:s.jsx("div",{className:"col-span-1",children:s.jsx("img",{src:e.poster.url,alt:e.title,className:"rounded-lg"})})})]}),(i==null?void 0:i.id)===e.user.id&&s.jsx("div",{className:"mt-4",children:s.jsx(t,{onClick:c,variant:"neutral",children:"Delete event"})})]})})})}export{b as default,L as meta};
