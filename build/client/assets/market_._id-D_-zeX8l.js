import{j as e}from"./jsx-runtime-CAOzMBF_.js";import{A as x}from"./anchor-BX46IkJD.js";import{B as h}from"./button-D3-ocrTF.js";import{U as u}from"./username-DR9y_VJH.js";import{a as p,u as j,b as g,L as d}from"./components-BUh_SX-e.js";import"./clsx-B-dksMZM.js";import"./index-BqmKY8Xa.js";const $=({data:s})=>{var r;const a=JSON.parse((s==null?void 0:s.product.images)||"[]");return[{title:`${s==null?void 0:s.product.name} | ${s==null?void 0:s.school.shortName} ✽ gctu`},{name:"description",content:s==null?void 0:s.product.description},{name:"og:image",content:(r=a[0])==null?void 0:r.url}]};function D(){const{product:s}=p(),{user:a}=j("root")||{},{instagram:r,phone:l,snapchat:n,whatsapp:i}=s.seller,t=g(),m=JSON.parse(s.images);async function o(){confirm("Are you sure you want to delete this item? This cannot be undone.")&&t.submit("",{method:"DELETE"})}return e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"h-[30rem] bg-zinc-100 dark:bg-neutral-800 rounded-lg overflow-x-auto",children:e.jsx("div",{className:"flex h-full gap-2",children:m.map(c=>e.jsx("img",{className:"h-full w-auto shrink-0 max-w-none",src:c.url,alt:s.name},c.thumbnail))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4 mt-2",children:[e.jsxs("div",{className:"col-span-1 lg:col-span-3",children:[e.jsx("h1",{className:"font-bold text-xl",children:s.name}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"rounded-lg bg-zinc-100 dark:bg-neutral-800 font-mono font-medium px-1",children:["GHS ",Number(s.price).toFixed(2)]}),e.jsx(d,{className:"text-secondary",to:`/market?category=${s.category.id}`,children:s.category.title})]}),e.jsx("div",{className:"mt-2 whitespace-pre-wrap",children:s.description}),(a==null?void 0:a.id)===s.seller.userId&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{variant:"neutral",to:`/market/${s.id}/edit`,children:"Edit product"}),e.jsx(h,{variant:"neutral",onClick:o,disabled:t.state==="submitting",children:t.state==="submitting"?"Deleting…":"Delete"})]}),e.jsx("div",{className:"text-sm ms-2 text-secondary",children:"Only you can see this"})]})]}),e.jsxs("div",{className:"col-span-1",children:[e.jsx("header",{className:"text-secondary text-sm",children:"Posted by"}),e.jsx("h2",{className:"font-bold",children:s.seller.businessName}),e.jsx("div",{className:"leading-none font-mono",children:e.jsx(u,{user:s.seller.user})}),e.jsxs("ul",{className:"mt-4",children:[l&&e.jsx("li",{children:e.jsxs("a",{className:"flex gap-2 font-medium",href:`tel:${l}`,target:"_blank",rel:"noreferrer",children:[e.jsx("div",{className:"i-lucide-phone text-secondary"}),e.jsxs("div",{children:[e.jsx("div",{className:"leading-none",children:l}),e.jsx("div",{className:"text-sm text-secondary",children:"Phone"})]})]})}),i&&e.jsx("li",{className:"mt-2",children:e.jsxs("a",{className:"flex gap-2 font-medium",href:`https://wa.me/${i.replace(/^\d/,"233")}`,target:"_blank",rel:"noreferrer",children:[e.jsx("div",{className:"i-lucide-message-circle text-secondary"}),e.jsxs("div",{children:[e.jsx("div",{className:"leading-none",children:i}),e.jsx("div",{className:"text-sm text-secondary",children:"Whatsapp DM"})]})]})}),r&&e.jsx("li",{className:"mt-2",children:e.jsxs("a",{className:"flex gap-2 items-center font-medium",href:`https://instagram.com/${r}`,target:"_blank",rel:"noreferrer",children:[e.jsx("div",{className:"i-lucide-instagram text-secondary"}),e.jsxs("div",{className:"leading-none",children:["@",r]})]})}),n&&e.jsx("li",{className:"mt-2",children:e.jsxs("a",{className:"flex gap-2 font-medium",href:`https://snapchat.com/add/${n}`,target:"_blank",rel:"noreferrer",children:[e.jsx("div",{className:"i-lucide-ghost text-secondary"}),e.jsxs("div",{children:[e.jsx("div",{className:"leading-none",children:n}),e.jsx("div",{className:"text-sm text-secondary",children:"Snapchat"})]})]})})]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"mt-2",children:e.jsxs(d,{className:"font-medium text-secondary inline-flex items-center gap-2",to:`/market?seller=${s.seller.id}`,children:[e.jsx("div",{className:"i-lucide-arrow-up-from-line"})," See more products from this seller"]})})})]})}export{D as default,$ as meta};
